(this["webpackJsonploft-taxi"]=this["webpackJsonploft-taxi"]||[]).push([[0],{119:function(e,t,a){},153:function(e,t,a){e.exports=a(171)},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return Ze}));var n=a(0),r=a.n(n),c=a(19),o=a.n(c),s=(a(158),a(85)),i=a(86),l=a(99),u=a(98),m=(a(159),a(40)),d=(a(160),a(25)),p=a(34),f=function(e){return{type:"LOGIN_REQUEST",payload:e}},E=function(e){return{type:"LOGIN_SUCCESS",payload:e}},_=function(e){return{type:"REGISTRATION_REQUEST",payload:e}},v=function(e){return{type:"PAYMENT_REQUEST",payload:e}},b=function(e){return{type:"PAYMENT_GETCARD_REQUEST",payload:e}},h=function(e){return{type:"ADDRESSLIST_REQUEST",payload:e}},g=function(e){return{type:"ROUTE_REQUEST",payload:e}},y=function(e){return{type:"LOGOUT_USER",payload:e}},N=function(e){return{type:"FLAG_CHANGE_VALUE",payload:e}},w=a(24),O=Object(w.b)(null,(function(e){return{isLoggedOut:function(){return e(y())}}}))((function(e){var t=e.isLoggedOut,a=Object(d.g)(),n=function(e){e.preventDefault(),t(),a.push("/login")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header","data-testid":"header"},r.a.createElement("div",{className:"header__container container"},r.a.createElement("div",{className:"header__logo"},r.a.createElement(m.Logo,{animated:!0})),r.a.createElement("nav",{className:"header__navigation"},r.a.createElement("ul",{className:"header__navigation-list"},[{url:"/map",text:"\u041a\u0430\u0440\u0442\u0430",id:"map"},{url:"/profile",text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",id:"profile"},{url:"/login",text:"\u0412\u044b\u0439\u0442\u0438",id:"home"}].map((function(e){var t=e.url,a=e.text,c=e.id;return r.a.createElement("li",{className:"header__navigation-item",key:c},"home"===c?r.a.createElement(p.b,{to:t,className:"header__navigation-button",onClick:n},a):r.a.createElement(p.b,{to:t,className:"header__navigation-button"},a))})))))))})),x=a(107),S=a.n(x),j=(a(165),a(197)),T=a(201);a(119);var L=function(){return r.a.createElement("div",{className:"info__box_nocard info__box_wrap"},r.a.createElement("div",{className:"info__box_title"},r.a.createElement(j.a,{variant:"h4"},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")),r.a.createElement("div",{className:"info__box_text"},r.a.createElement(j.a,{variant:"body1"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437.")),r.a.createElement("div",{className:"actions"},r.a.createElement(T.a,{component:p.b,to:"/profile",color:"primary",variant:"contained"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c")))},k=a(70),I=a(37),R=a(72),C=a(217),A=a(213),F=a(205),U=a(206),D=a(219);var G=Object(w.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,addressList:e.addresses}}),(function(e){return{getAddresses:function(){return e(h())},getRoutes:function(t,a){return e(g({addressFrom:t,addressTo:a}))}}}))((function(e){var t=e.getAddresses,a=e.addressList,c=e.getRoutes,o=Object(n.useState)({addressFrom:"",addressTo:""}),s=Object(R.a)(o,2),i=s[0],l=s[1];Object(n.useEffect)((function(){t()}),[t]);var u=function(e){var t=e.target,a=t.name,n=t.value;l(Object(I.a)(Object(I.a)({},i),{},Object(k.a)({},a,n)))},m=function(e){var t=e.addressValue,n=e.filteredOption,c=a.length&&a.filter((function(e){return e!==n})).map((function(e,t){return r.a.createElement(C.a,{key:t,value:e},e)}));return r.a.createElement(A.a,{value:i[t],onChange:u,inputProps:{name:t},"data-testid":t},c)};return r.a.createElement(F.a,{className:"info__box_wrap"},r.a.createElement("form",{className:"info__box_form",onSubmit:function(e){e.preventDefault(),c(i.addressFrom,i.addressTo)}},r.a.createElement(U.a,{className:"info__box_control"},r.a.createElement(D.a,{id:"addressFrom"},"\u041e\u0442\u043a\u0443\u0434\u0430"),r.a.createElement(m,{addressValue:"addressFrom",filteredOption:i.addressTo})),r.a.createElement(U.a,{className:"info__box_control"},r.a.createElement(D.a,{id:"addressTo"},"\u041a\u0443\u0434\u0430"),r.a.createElement(m,{addressValue:"addressTo",filteredOption:i.addressFrom})),r.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary"},"\u0412\u044b\u0437\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438")))}));var M=Object(w.b)(null,(function(e){return{changeOrderFlag:function(){return e(N({orderFlag:!1}))}}}))((function(e){var t=e.changeOrderFlag;return r.a.createElement("div",{className:"info__box_ordered info__box_wrap"},r.a.createElement("div",{className:"info__box_title"},r.a.createElement(j.a,{variant:"h4"},"\u0417\u0430\u043a\u0430\u0437 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d")),r.a.createElement("div",{className:"info__box_text"},r.a.createElement(j.a,{variant:"body1"},"\u0412\u0430\u0448\u0435 \u0442\u0430\u043a\u0441\u0438 \u043f\u0440\u0438\u0431\u0443\u0434\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 10 \u043c\u0438\u043d\u0443\u0442")),r.a.createElement("div",{className:"actions"},r.a.createElement(T.a,{color:"primary",variant:"contained",onClick:function(){t()}},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437")))}));var P=Object(w.b)((function(e){return{paymentFlag:e.flags.paymentFlag,orderFlag:e.flags.orderFlag}}),null)((function(e){var t=e.paymentFlag,a=e.orderFlag;return r.a.createElement("div",{className:"info__box"},r.a.createElement("div",{className:"info__box_container"},t?a?r.a.createElement(M,null):r.a.createElement(G,null):r.a.createElement(L,null)))}));S.a.accessToken="pk.eyJ1IjoibmF2cmFzODgiLCJhIjoiY2tmNXU1emE3MHFzbDJ5bm82ZDJjZnQ4cSJ9.Y3wSyP78GmPNBV00ZKwktg";var Y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={lng:37.1903229,lat:55.9889082,zoom:13},e.mapContainer=r.a.createRef(),e.drawRoute=function(e,t){e.flyTo({center:t[0],zoom:15}),e.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffc617","line-width":8}})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getPaymentInfo)(),this.map=new S.a.Map({container:this.mapContainer.current,style:"mapbox://styles/mapbox/light-v10",center:[this.state.lng,this.state.lat],zoom:this.state.zoom})}},{key:"componentDidUpdate",value:function(e){if(!e.routeList&&this.props.routeList.length>0){this.map.getLayer("route")&&(this.map.removeLayer("route"),this.map.removeSource("route"));var t=this.map;this.drawRoute(t,this.props.routeList)}}},{key:"componentWillUnmount",value:function(){this.map.remove()}},{key:"render",value:function(){return r.a.createElement("div",{className:"map__page"},r.a.createElement(P,null),r.a.createElement("div",{ref:this.mapContainer,"data-testid":"Map",className:"mapContainer"}))}}]),a}(n.Component);Y.map=null;var Q=Object(w.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,routeList:e.route}}),(function(e){return{getPaymentInfo:function(t){return e(b({token:t}))}}}))(Y),V=(a(166),Object(w.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}),(function(e){return{login:function(t,a){return e(f({email:t,password:a}))}}}))((function(e){var t=e.isLoggedIn,a=e.login,c=Object(d.g)();return Object(n.useEffect)((function(){t&&c.push("/map")}),[c,t]),r.a.createElement("div",{className:"login__page","data-testid":"login"},r.a.createElement("div",{className:"login__container"},r.a.createElement("div",{className:"login__logo"},r.a.createElement(m.Logo,{white:!0,animated:!0})),r.a.createElement("div",{className:"login__row"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=e.target,n=t.email,r=t.password;a(n.value,r.value)}},r.a.createElement("div",{className:"form__title"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("div",{className:"form__row"},r.a.createElement("div",{className:"form__text"},"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ?"),r.a.createElement(p.b,{to:"/",className:"form__link","data-testid":"regLink"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c")),r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"email"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f*"),r.a.createElement("input",{type:"email",id:"email",name:"email",className:"form__input",required:!0})),r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c*"),r.a.createElement("input",{type:"password",id:"password",name:"password",className:"form__input",required:!0})),r.a.createElement("div",{className:"form__row form__row_right"},r.a.createElement("button",{type:"submit",className:"form__button"},"\u0412\u043e\u0439\u0442\u0438"))))))}))),J=(a(167),a(27)),q=Object(w.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}),(function(e){return{registration:function(t,a,n,r){return e(_({name:t,surname:a,email:n,password:r}))}}}))((function(e){var t=e.isLoggedIn,a=e.registration,c=Object(d.g)();Object(n.useEffect)((function(){t&&c.push("/map")}),[c,t]);return r.a.createElement("div",{className:"registration__page","data-testid":"registration"},r.a.createElement("div",{className:"registration__container"},r.a.createElement("div",{className:"registration__logo"},r.a.createElement(m.Logo,{white:!0,animated:!0})),r.a.createElement("div",{className:"registration__row"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=e.target,n=t.name,r=t.surname,c=t.email,o=t.password;a(n.value,r.value,c.value,o.value)}},r.a.createElement("div",{className:"form__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:"form__row"},r.a.createElement("div",{className:"form__text"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d ?"),r.a.createElement(p.b,{to:"/login",className:"form__link","data-testid":"loginLink"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"email"},"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"),r.a.createElement("input",{type:"email",id:"email",name:"email",className:"form__input",required:!0})),r.a.createElement("div",{className:"form__block "},r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"name"},"\u0418\u043c\u044f"),r.a.createElement("input",{type:"name",id:"name",name:"name",className:"form__input",required:!0})),r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"surname"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.a.createElement("input",{type:"surname",id:"surname",name:"surname",className:"form__input",required:!0}))),r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{type:"password",id:"password",name:"password",className:"form__input",required:!0})),r.a.createElement("div",{className:"form__row form__row_right"},r.a.createElement("button",{type:"submit",className:"form__button"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))),r.a.createElement("button",{onClick:function(){try{throw new Error("testing error")}catch(e){J.b(e)}}},"Error 1"),r.a.createElement("button",{onClick:function(){return[1,2,3].map((function(e){return Math.pow(e,2)}))}},"Error 2"),r.a.createElement("button",{onClick:function(){try{throw new SyntaxError("new syntaxerror")}catch(e){J.b(e)}}},"Error 3"),r.a.createElement("button",{onClick:function(){throw new TypeError("new typerror")}},"Error 4"))))})),z=(a(169),a(30)),H=a(211),X=a(126),B=Object(w.b)((function(e){return{inputValues:e.payment}}),(function(e){return{payment:function(t,a,n,r,c){return e(v({cardNumber:t,expiryDate:a,userName:n,cvcNumber:r,token:c}))},changeField:function(t){e(function(e){return{type:"PAYMENT_CHANGE_FIELD",payload:e}}(t))}}}))((function(e){var t=e.payment,a=e.inputValues,n=e.changeField,c=function(e){var t=e.target,a=t.name,r=t.value;n({name:a,value:r})};return r.a.createElement("div",{className:"profile","data-testid":"profile"},r.a.createElement("div",{className:"profile__container"},r.a.createElement("div",{className:"profile__wrap"},r.a.createElement("div",{className:"profile__head"},r.a.createElement("h2",{className:"profile__title"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement("div",{className:"profile__subtitle"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b")),r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(a)}},r.a.createElement("div",{className:"form__container"},r.a.createElement("div",{className:"form__left"},r.a.createElement("div",{className:"icon"},r.a.createElement(m.MCIcon,null)),r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"cardNumber"},"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b:"),r.a.createElement("input",{type:"cardNumber",value:a.cardNumber,id:"cardNumber",name:"cardNumber",className:"form__input",placeholder:"0000 0000 0000 0000",onChange:c,required:!0})),r.a.createElement(z.a,{utils:X.a},r.a.createElement(H.a,{name:"expiryDate",value:a.expiryDate,onChange:function(e){n({name:"expiryDate",value:e})},label:"\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:",minDate:new Date,placeholder:"07/22",openTo:"year",views:["year","month"],format:"MM/yy",fullWidth:!0}))),r.a.createElement("div",{className:"form__right"},r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"cardName"},"\u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430:"),r.a.createElement("input",{type:"cardName",id:"cardName",name:"cardName",value:a.cardName,className:"form__input",onChange:c,required:!0})),r.a.createElement("div",{className:"form__row form__row_column"},r.a.createElement("label",{htmlFor:"cvc"},"CVC:"),r.a.createElement("input",{type:"cvc",id:"cvc",name:"cvc",value:a.cvc,className:"form__input",onChange:c,required:!0})))),r.a.createElement("button",{type:"submit",className:"form__button"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))})),W=a(129),Z=Object(w.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}),null)((function(e){var t=e.component,a=e.isLoggedIn,n=Object(W.a)(e,["component","isLoggedIn"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/"})}}))})),K=a(208),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={initialLoad:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.localStorage.getItem("token")&&this.props.isLoggedIn(),this.setState({initialLoad:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{fallback:function(t){var a=t.error,n=t.componentStack,c=t.resetError;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"You have encountered an error"),r.a.createElement("div",null,a.toString()),r.a.createElement("div",null,n),r.a.createElement("button",{onClick:function(){e.setState({message:"This is my app"}),c()}},"Click here to reset!"))}},r.a.createElement("div",{className:"app","data-testid":"app"},("/map"===this.props.location.pathname||"/profile"===this.props.location.pathname)&&r.a.createElement(O,null),!this.state.initialLoad&&r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",component:q,exact:!0}),r.a.createElement(d.b,{path:"/login",component:V}),r.a.createElement(Z,{path:"/map",component:Q}),r.a.createElement(Z,{path:"/profile",component:B})))))}}]),a}(n.Component),ee=Object(d.h)(Object(w.b)(null,(function(e){var t=window.localStorage.getItem("token");return{isLoggedIn:function(){return e(E(t))}}}))($));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=a(210),ae=a(42),ne={isLoggedIn:!1,token:null},re={cardNumber:"",expiryDate:"",cardName:"",cvc:""},ce={},oe={paymentFlag:!1,orderFlag:!1},se=Object(ae.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return t.payload;case"LOGIN_SUCCESS":return{isLoggedIn:!0,token:t.payload};case"LOGIN_FAILURE":return{isLoggedIn:!1};case"REGISTRATION_REQUEST":return t.payload;case"REGISTRATION_SUCCESS":return{isLoggedIn:!0,token:t.payload};case"REGISTRATION_FAILURE":return{isLoggedIn:!1};case"LOGOUT_USER":return{isLoggedIn:!1,token:null};default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PAYMENT_REQUEST":case"PAYMENT_SUCCESS":case"PAYMENT_FAILURE":return e;case"PAYMENT_GETCARD_REQUEST":return Object(I.a)({},re);case"PAYMENT_GETCARD_SUCCESS":return Object(I.a)(Object(I.a)({},e),t.payload);case"PAYMENT_CHANGE_FIELD":return Object(I.a)(Object(I.a)({},e),{},Object(k.a)({},t.payload.name,t.payload.value));default:return e}},addresses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDRESSLIST_REQUEST":return e;case"ADDRESSLIST_SUCCESS":return t.payload;case"ADDRESSLIST_FAILURE":default:return e}},route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROUTE_REQUEST":return null;case"ROUTE_SUCCESS":return t.payload;case"ROUTE_FAILURE":default:return e}},flags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FLAG_CHANGE_VALUE":return Object(I.a)(Object(I.a)({},e),t.payload);default:return e}},registration:!1}),ie=a(128),le=a(9),ue=a.n(le),me=a(10),de=a(80),pe="https://loft-taxi.glitch.me",fe={Accept:"application/json","Content-Type":"application/json"},Ee=function(){var e=Object(de.a)(ue.a.mark((function e(t,a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(pe,"/auth"),{method:"POST",body:JSON.stringify({email:t,password:a}),headers:fe}).then((function(e){return e.json()})).then((function(e){return[e.success,e.token]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(){var e=Object(de.a)(ue.a.mark((function e(t,a,n,r){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(pe,"/register"),{method:"POST",body:JSON.stringify({name:t,surname:a,email:n,password:r}),headers:fe}).then((function(e){return e.json()})).then((function(e){return[e.success,e.token]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ve=function(){var e=Object(de.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(pe,"/card"),{method:"POST",body:JSON.stringify(t),headers:fe}).then((function(e){return e.json()})).then((function(e){return e.success}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){return fetch("".concat(pe,"/card?token=").concat(e),{method:"GET",headers:fe}).then((function(e){return e.json()}))},he=function(){return fetch("".concat(pe,"/addressList"),{method:"GET",headers:fe}).then((function(e){return e.json()}))},ge=function(){var e=Object(de.a)(ue.a.mark((function e(t,a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(pe,"/route?address1=").concat(t,"&address2=").concat(a),{method:"GET",headers:fe}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ye=ue.a.mark(Oe),Ne=ue.a.mark(xe),we=ue.a.mark(Se);function Oe(e){var t,a,n,r,c,o,s;return ue.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,a=t.email,n=t.password,i.next=3,Object(me.a)(Ee,a,n);case 3:if(r=i.sent,c=Object(R.a)(r,2),o=c[0],s=c[1],!o){i.next=12;break}return i.next=10,Object(me.c)(E(s));case 10:return i.next=12,window.localStorage.setItem("token",s);case 12:case"end":return i.stop()}}),ye)}function xe(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.removeItem("token");case 2:case"end":return e.stop()}}),Ne)}function Se(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(f().type,Oe);case 2:return e.next=4,Object(me.e)(y().type,xe);case 4:case"end":return e.stop()}}),we)}var je=ue.a.mark(Le),Te=ue.a.mark(ke);function Le(e){var t,a,n,r,c,o,s,i,l;return ue.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,a=t.name,n=t.surname,r=t.email,c=t.password,u.next=3,Object(me.a)(_e,a,n,r,c);case 3:if(o=u.sent,s=Object(R.a)(o,2),i=s[0],l=s[1],!i){u.next=11;break}return u.next=10,Object(me.c)({type:"REGISTRATION_SUCCESS",payload:l});case 10:window.localStorage.setItem("token",l);case 11:case"end":return u.stop()}}),je)}function ke(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(_().type,Le);case 2:case"end":return e.stop()}}),Te)}var Ie=ue.a.mark(Ae),Re=ue.a.mark(Fe),Ce=ue.a.mark(Ue);function Ae(){var e,t,a,n,r,c,o;return ue.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(me.d)();case 3:return e=s.sent,t=e.payment,a=t.cardNumber,n=t.expiryDate,r=t.cardName,c=t.cvc,o=e.auth.token,s.next=8,Object(me.a)(ve,{cardNumber:a,expiryDate:n,cardName:r,cvc:c,token:o});case 8:if(!s.sent){s.next=16;break}return s.next=12,Object(me.c)({type:"PAYMENT_SUCCESS",payload:void 0});case 12:return s.next=14,Object(me.c)(N({paymentFlag:!0}));case 14:s.next=18;break;case 16:return s.next=18,Object(me.c)({type:"PAYMENT_FAILURE"});case 18:s.next=24;break;case 20:return s.prev=20,s.t0=s.catch(0),s.next=24,Object(me.c)({type:"PAYMENT_FAILURE"});case 24:case"end":return s.stop()}}),Ie,null,[[0,20]])}function Fe(){var e,t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(me.d)();case 3:return e=n.sent,t=e.auth.token,n.next=7,Object(me.a)(be,t);case 7:if(!(a=n.sent)||a.error){n.next=15;break}return n.next=11,Object(me.c)({type:"PAYMENT_GETCARD_SUCCESS",payload:a});case 11:return n.next=13,Object(me.c)(N({paymentFlag:!0}));case 13:n.next=17;break;case 15:return n.next=17,Object(me.c)({type:"PAYMENT_GETCARD_FAILURE"});case 17:n.next=23;break;case 19:return n.prev=19,n.t0=n.catch(0),n.next=23,Object(me.c)({type:"PAYMENT_GETCARD_FAILURE"});case 23:case"end":return n.stop()}}),Re,null,[[0,19]])}function Ue(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(v().type,Ae);case 2:return e.next=4,Object(me.e)(b().type,Fe);case 4:case"end":return e.stop()}}),Ce)}var De=ue.a.mark(Me),Ge=ue.a.mark(Pe);function Me(){var e;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(me.a)(he);case 3:return e=t.sent,t.next=6,Object(me.c)({type:"ADDRESSLIST_SUCCESS",payload:e.addresses});case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),t.t0.message,t.t0.data,t.next=14,Object(me.c)({type:"ADDRESSLIST_FAILURE"});case 14:case"end":return t.stop()}}),De,null,[[0,8]])}function Pe(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(h().type,Me);case 2:case"end":return e.stop()}}),Ge)}var Ye=ue.a.mark(Ve),Qe=ue.a.mark(Je);function Ve(e){var t,a,n,r;return ue.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.addressFrom,n=t.addressTo,c.next=4,Object(me.a)(ge,a,n);case 4:return r=c.sent,c.next=7,Object(me.c)({type:"ROUTE_SUCCESS",payload:r});case 7:return c.next=9,Object(me.c)(N({orderFlag:!0}));case 9:c.next=16;break;case 11:return c.prev=11,c.t0=c.catch(0),c.t0.message,c.next=16,Object(me.c)({type:"ROUTE_FAILURE"});case 16:case"end":return c.stop()}}),Ye,null,[[0,11]])}function Je(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(g().type,Ve);case 2:case"end":return e.stop()}}),Qe)}var qe=ue.a.mark(ze);function ze(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.b)(Se);case 2:return e.next=4,Object(me.b)(ke);case 4:return e.next=6,Object(me.b)(Ue);case 6:return e.next=8,Object(me.b)(Pe);case 8:return e.next=10,Object(me.b)(Je);case 10:case"end":return e.stop()}}),qe)}var He=Object(ie.a)(),Xe=function(){var e=Object(ae.e)(se,Object(ae.d)(Object(ae.a)(He),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return He.run(ze),e},Be=a(209),We=a(127);Be.a({dsn:"https://11495a5cf3974960b64bcc3f829ca0f8@o844070.ingest.sentry.io/5814364",integrations:[new We.a.BrowserTracing],tracesSampleRate:1});var Ze=Xe();o.a.render(r.a.createElement(w.a,{store:Ze},r.a.createElement(te.a,{theme:m.theme},r.a.createElement(p.a,null,r.a.createElement(ee,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[153,1,2]]]);
//# sourceMappingURL=main.820ac285.chunk.js.map